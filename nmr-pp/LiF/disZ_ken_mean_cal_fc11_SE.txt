; 11 June 2024
; Andrew Stasiuk

define delay tau1
"tau1 = d3*(1+cnst1+2*cnst2)-p1/2"
define delay tau2
"tau2 = d3*(1-cnst2)-p1"
define delay tau3
"tau3 = 2*d3*(1-cnst2)-p1"

define delay tau1p
"tau1p = d3*(1-cnst1+2*cnst2)-p1/2"

define delay tau1r
"tau1 = d3*(1+cnst3+2*cnst4)-p1/2"
define delay tau2r
"tau2 = d3*(1-cnst4)-p1"
define delay tau3r
"tau3 = 2*d3*(1-cnst4)-p1"

define delay tau1pr
"tau1p = d3*(1-cnst3+2*cnst4)-p1/2"

define delay cycle
"cycle=24*d3"
"l1=0"

1  ze

2   ; state & pp reset delay
    d1 rpp1 rpp2 rpp3 rpp4 rpp15 rpp16 rpp17 rpp18
    100u pl2:f2

; Random Zeeman State Preparation
    (p1 ph0):f2

3 ; repeated ken to encode disorder
    tau1
    (p1 ph1^):f2
    tau2
    (p1 ph2^):f2
    tau3
    (p1 ph3^):f2
    tau2
    (p1 ph4^):f2
    tau1p

    tau1p
    (p1 ph1^):f2
    tau2
    (p1 ph2^):f2
    tau3
    (p1 ph3^):f2
    tau2
    (p1 ph4^):f2
    tau1

    lo to 3 times l1

    (p1 ph5):f2
    
    2.5u

    (p1 ph29):f2
    20u
    (p1 ph30):f2

    go=2 ph31
    1m wr #0 if #0

    ; increment WAHUHA time
    5m iu1
    5m iu1
    25m ip5*176

    25m ip15*176
    25m ip16*176
    25m ip17*176
    25m ip18*176

    lo to 2 times td1

  exit


ph0 = (360) 90 90 270 270 0 0 180 180

ph1 = (360) 11 55 279 323 187 231 95 139 3 47 271 315 179 223 87 131 355 39 263 307 171 215 79 123 347 31 255 299 163 207 71 115 339 23 247 291 155 199 63 107 331 15 239 283 147 191 55 99 323 7 231 275 139 183 47 91 315 359 223 267 131 175 39 83 307 351 215 259 123 167 31 75 299 343 207 251 115 159 23 67 291 335 199 243 107 151 15 59 283 327 191 235 99 143 7 51 275 319 183 227
ph2 = (360) 112 156 20 64 288 332 196 240 104 148 12 56 280 324 188 232 96 140 4 48 272 316 180 224 88 132 356 40 264 308 172 216 80 124 348 32 256 300 164 208 72 116 340 24 248 292 156 200 64 108 332 16 240 284 148 192 56 100 324 8 232 276 140 184 48 92 316 0 224 268 132 176 40 84 308 352 216 260 124 168 32 76 300 344 208 252 116 160 24 68 292 336 200 244 108 152 16 60 284 328
ph3 = (360) 123 167 31 75 299 343 207 251 115 159 23 67 291 335 199 243 107 151 15 59 283 327 191 235 99 143 7 51 275 319 183 227 91 135 359 43 267 311 175 219 83 127 351 35 259 303 167 211 75 119 343 27 251 295 159 203 67 111 335 19 243 287 151 195 59 103 327 11 235 279 143 187 51 95 319 3 227 271 135 179 43 87 311 355 219 263 127 171 35 79 303 347 211 255 119 163 27 71 295 339
ph4 = (360) 44 88 312 356 220 264 128 172 36 80 304 348 212 256 120 164 28 72 296 340 204 248 112 156 20 64 288 332 196 240 104 148 12 56 280 324 188 232 96 140 4 48 272 316 180 224 88 132 356 40 264 308 172 216 80 124 348 32 256 300 164 208 72 116 340 24 248 292 156 200 64 108 332 16 240 284 148 192 56 100 324 8 232 276 140 184 48 92 316 0 224 268 132 176 40 84 308 352 216 260

ph5 = (360) 187 187 7 7 97 97 277 277


ph29 = 0 2
ph30 = 1 3
ph31 = 0 2
