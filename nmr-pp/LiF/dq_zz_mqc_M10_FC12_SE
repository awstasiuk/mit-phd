; 26 March 2024
; Andrew Stasiuk
; ZZ MQC Expt under Hamiltonian (cnst1)*XX - (cnst1)*YY
; Time reversal by X<->Y interchange.
; 12 deg frame change
; M = 10 ==> td2=20 or pulse program will fail.

define delay tau1
"tau1=d3-p1/2"
define delay tau2
"tau2=d3*(1-cnst1)-p1"
define delay tau3
"tau3=2*d3*(1+cnst1)-p1"

define delay cycle
"cycle=24*d3"

"l10=0"

1   ze
    25m ip8*192
    25m ip9*192
    25m ip10*192
    25m ip11*192
    25m ip12*192
    25m ip13*192
    25m ip14*192
    25m ip15*192

2
    d1 rpp0 rpp1 rpp2 rpp3 rpp4 rpp5 rpp6 rpp7 rpp8 rpp9 rpp10 rpp11 rpp12 rpp13 rpp14 rpp15
    cycle pl2:f2

3
    tau1
    (p1 ph0^):f2
    tau2
    (p1 ph1^):f2
    tau3
    (p1 ph2^):f2
    tau2
    (p1 ph3^):f2
    tau1

    tau1
    (p1 ph4^):f2
    tau2
    (p1 ph5^):f2
    tau3
    (p1 ph6^):f2
    tau2
    (p1 ph7^):f2
    tau1

    lo to 3 times l10

4
    tau1
    (p1 ph8^):f2
    tau2
    (p1 ph9^):f2
    tau3
    (p1 ph10^):f2
    tau2
    (p1 ph11^):f2
    tau1

    tau1
    (p1 ph12^):f2
    tau2
    (p1 ph13^):f2
    tau3
    (p1 ph14^):f2
    tau2
    (p1 ph15^):f2
    tau1

    lo to 4 times l10

    1m
    (p1 ph29):f2
    20u
    (p1 ph30):f2

    go=2 ph31
    1m wr #0 if #0

    ; increment reverse evolution phase programs for Z encoding
    25m ip8*18
    25m ip9*18
    25m ip10*18
    25m ip11*18
    25m ip12*18
    25m ip13*18
    25m ip14*18
    25m ip15*18
    lo to 2 times td2

    ; increase time evolution counters, add additional FC offset to rev evolution
    1m iu10
    1m iu10
    25m ip8*192
    25m ip9*192
    25m ip10*192
    25m ip11*192
    25m ip12*192
    25m ip13*192
    25m ip14*192
    25m ip15*192
    lo to 2 times td1

  exit


ph0 = (360) 0 276 192 108 24 300 216 132 48 324 240 156 72 348 264 180 96 12 288 204 120 36 312 228 144 60 336 252 168 84 0 276 192 108 24 300 216 132 48 324 240 156 72 348 264 180 96 12 288 204 120 36 312 228 144 60 336 252 168 84
ph1 = (360) 102 18 294 210 126 42 318 234 150 66 342 258 174 90 6 282 198 114 30 306 222 138 54 330 246 162 78 354 270 186 102 18 294 210 126 42 318 234 150 66 342 258 174 90 6 282 198 114 30 306 222 138 54 330 246 162 78 354 270 186
ph2 = (360) 114 30 306 222 138 54 330 246 162 78 354 270 186 102 18 294 210 126 42 318 234 150 66 342 258 174 90 6 282 198 114 30 306 222 138 54 330 246 162 78 354 270 186 102 18 294 210 126 42 318 234 150 66 342 258 174 90 6 282 198
ph3 = (360) 36 312 228 144 60 336 252 168 84 0 276 192 108 24 300 216 132 48 324 240 156 72 348 264 180 96 12 288 204 120 36 312 228 144 60 336 252 168 84 0 276 192 108 24 300 216 132 48 324 240 156 72 348 264 180 96 12 288 204 120
ph4 = (360) 48 324 240 156 72 348 264 180 96 12 288 204 120 36 312 228 144 60 336 252 168 84 0 276 192 108 24 300 216 132 48 324 240 156 72 348 264 180 96 12 288 204 120 36 312 228 144 60 336 252 168 84 0 276 192 108 24 300 216 132
ph5 = (360) 150 66 342 258 174 90 6 282 198 114 30 306 222 138 54 330 246 162 78 354 270 186 102 18 294 210 126 42 318 234 150 66 342 258 174 90 6 282 198 114 30 306 222 138 54 330 246 162 78 354 270 186 102 18 294 210 126 42 318 234
ph6 = (360) 162 78 354 270 186 102 18 294 210 126 42 318 234 150 66 342 258 174 90 6 282 198 114 30 306 222 138 54 330 246 162 78 354 270 186 102 18 294 210 126 42 318 234 150 66 342 258 174 90 6 282 198 114 30 306 222 138 54 330 246
ph7 = (360) 84 0 276 192 108 24 300 216 132 48 324 240 156 72 348 264 180 96 12 288 204 120 36 312 228 144 60 336 252 168 84 0 276 192 108 24 300 216 132 48 324 240 156 72 348 264 180 96 12 288 204 120 36 312 228 144 60 336 252 168

ph8 = (360) 282 198 114 30 306 222 138 54 330 246 162 78 354 270 186 102 18 294 210 126 42 318 234 150 66 342 258 174 90 6 282 198 114 30 306 222 138 54 330 246 162 78 354 270 186 102 18 294 210 126 42 318 234 150 66 342 258 174 90 6
ph9 = (360) 204 120 36 312 228 144 60 336 252 168 84 0 276 192 108 24 300 216 132 48 324 240 156 72 348 264 180 96 12 288 204 120 36 312 228 144 60 336 252 168 84 0 276 192 108 24 300 216 132 48 324 240 156 72 348 264 180 96 12 288
ph10 = (360) 216 132 48 324 240 156 72 348 264 180 96 12 288 204 120 36 312 228 144 60 336 252 168 84 0 276 192 108 24 300 216 132 48 324 240 156 72 348 264 180 96 12 288 204 120 36 312 228 144 60 336 252 168 84 0 276 192 108 24 300
ph11 = (360) 318 234 150 66 342 258 174 90 6 282 198 114 30 306 222 138 54 330 246 162 78 354 270 186 102 18 294 210 126 42 318 234 150 66 342 258 174 90 6 282 198 114 30 306 222 138 54 330 246 162 78 354 270 186 102 18 294 210 126 42
ph12 = (360) 330 246 162 78 354 270 186 102 18 294 210 126 42 318 234 150 66 342 258 174 90 6 282 198 114 30 306 222 138 54 330 246 162 78 354 270 186 102 18 294 210 126 42 318 234 150 66 342 258 174 90 6 282 198 114 30 306 222 138 54
ph13 = (360) 252 168 84 0 276 192 108 24 300 216 132 48 324 240 156 72 348 264 180 96 12 288 204 120 36 312 228 144 60 336 252 168 84 0 276 192 108 24 300 216 132 48 324 240 156 72 348 264 180 96 12 288 204 120 36 312 228 144 60 336
ph14 = (360) 264 180 96 12 288 204 120 36 312 228 144 60 336 252 168 84 0 276 192 108 24 300 216 132 48 324 240 156 72 348 264 180 96 12 288 204 120 36 312 228 144 60 336 252 168 84 0 276 192 108 24 300 216 132 48 324 240 156 72 348
ph15 = (360) 6 282 198 114 30 306 222 138 54 330 246 162 78 354 270 186 102 18 294 210 126 42 318 234 150 66 342 258 174 90 6 282 198 114 30 306 222 138 54 330 246 162 78 354 270 186 102 18 294 210 126 42 318 234 150 66 342 258 174 90


ph29 = 0 2
ph30 = 1 3
ph31 = 0 2